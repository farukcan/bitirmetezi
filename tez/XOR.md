[TOC]

#XOR
Farklı iki input durumunda, 1 çıktısı döndüren kapıdır.





|	input	|	output				|
|	--------	|	--------				|
|	0	0	|	0				|
|	0	1	|	1				|
|	1	0	|	1				|
|	1	1	|	0				|

## XOR probleminin Nöroevrim ile çözülmesi

* Bu problemin çözülmesi için YSA kullanacağız.
* Bu YSAnın yapısı kromozomda saklanacak.
* Genetik algoritmalar ile yeni kromozomlar üretilecek.
* Bu yeni kromozomlar, YSA'ya çevrilip, ileri beslemeli olarak ateşlenecek.
* Çıktının XOR'a uyumluluğuna göre bir fitness değeri atanacak.


### Problem
* YSA'nın XOR çözebilecek şekilde nöroevrim ile eğitilmesi.

### Fitness Fonksiyonu
1. [0,0] , [0,1] , [1,0] , [1,1] Giriş setleri için YSA ileriye doğru ateşlenir
2. YSA'dan alınan çıktılar OUTS dizisine eklenir.
3. beklenen = [0,1,1,0] dizisini oluştur.
3. hata -> her bir outs elemanı için hata = hata +| outs[i]-beklenen[i] |
4. fitness = 8 - hata

### Başlangıç fonksiyonu oluşturma fonksiyonu
1. EVE kromozomunu kopyalayarak yeni kromozom oluştur.
2. Kromozomu mutasyona uğrat.
3. Populasyon sayısına ulaşmadıysa Adım.1'e dön.
4. DUR

#### EVE kromozomu
Başlangıç için , örnek YSA kromozomudur.

### Evrimsel Parametreler
|	parametre	|	değer					|
|	--------	|	--------				|
|	algorithm	|	GA.ALGORITHMS.STANDART	|
|	crossing_overMethod	|	GA.CO_TYPES.MULTIPARTIALLY	|
|	selectionMethod	|	GA.SELECTION.ROULETTE	|
|	crossing_overPartNum	|	3	|
|	population_size	|	100	|
|	iterations	|	100	|
|	elitism	|	true	|
|	elit_num	|	10	|

(varsayılan ; mutation_rate : 0.9 ,crossing_overRate : 0.5,)

#### Algoritma Hakkında
* Standart Genetik Algoritma kullanılacak
* Populasyon büyüklüğü 100 olacak
* 100 iterasyon yapılacak.
* Elitizm aktif olacak, ve en iyi ilk 10 elit olacak.

## Javascript Uygulaması
```

@import ANN.js (by farukcan.net : YSA Kütüphanesi)
@import evolotion.js (by farukcan.net : GA Kütüphanesi)
@import EveXOR.js (by farukcan.net)

    var fitnessFonksiyonu = function(member){
        var outs = [];
        var beklenen = [0,1,1,0];
        var genetic = member.chromosome.toJSON();

        member.ysa = new ANN().PERCEPTRON(genetic.inputNN,genetic.hiddenNN,genetic.outputNN).setBias([-1,-1]);
        var ks = 10;
        genetic.W.forEach(function(matris){
            matris.forEach(function(satir){
                satir.forEach(function(deger,i){
                    satir[i] = deger*ks;
                });
            });
        });
        member.ysa.setWeights(genetic.W);

        member.ysa.fire([0,0]);
        outs.push(member.ysa.getOutputs()[0]);
        member.ysa.fire([0,1]);
        outs.push(member.ysa.getOutputs()[0]);
        member.ysa.fire([1,0]);
        outs.push(member.ysa.getOutputs()[0]);
        member.ysa.fire([1,1]);
        outs.push(member.ysa.getOutputs()[0]);

        var hata= 0;
        for(var i=0; i < beklenen.length ; i++){
            hata+=Math.abs(outs[i]-beklenen[i]);
        }
        member.fitness = 8 - hata;

        return member.fitness;
    };

    var baslangicFonksiyonu = function(population_size){
            new Population(this);

            while(population_size--){
                var newMember = new Member(this.population);
                newMember.chromosome = GA.copyGene(chromosomeOfEve);
                newMember.chromosome.mutate();
            }

            console.log(this.population);


    };

    var evrim = new Evolotion(fitnessFonksiyonu,baslangicFonksiyonu);

    evrim.setParameters({
        algorithm : GA.ALGORITHMS.STANDART,
        population_size : 100,
        iterations : 100,
        elitism : true,
        elit_num : 10,
    });

    evrim.start();

    evrim.population.members.sort(function(a,b){
        return b.fitness- a.fitness;
    });

    console.log(evrim.population.bestMember);
    var member = evrim.population.bestMember;
    var outs = [];
    member.ysa.fire([0,0]);
    outs.push(member.ysa.getOutputs()[0]);
    member.ysa.fire([0,1]);
    outs.push(member.ysa.getOutputs()[0]);
    member.ysa.fire([1,0]);
    outs.push(member.ysa.getOutputs()[0]);
    member.ysa.fire([1,1]);
    outs.push(member.ysa.getOutputs()[0]);
    console.log(outs);

    document.getElementById('text').innerHTML = JSON.stringify(member.chromosome.toJSON());

```


## Sonuçlar ve Analiz

|  Jenerasyon  |        Ortalama Fitness(0-8)            |         Maximum Fitness(0-8)          | 
|----|--------------------|-------------------| 
| 0  | 5.9853793614933855 | 6.937523766717593 | 
| 1  | 6.02892588461636   | 6.937523766717593 | 
| 2  | 6.0245286695214215 | 6.937523766717593 | 
| 3  | 6.068766390885982  | 6.937523766717593 | 
| 4  | 6.039143621117259  | 6.937523766717593 | 
| 5  | 6.088661354283733  | 6.937523766717593 | 
| 6  | 6.123594933367906  | 7.551015688546342 | 
| 7  | 6.121492726326373  | 7.551015688546342 | 
| 8  | 6.1348510323782035 | 7.551015688546342 | 
| 9  | 6.142278608978312  | 7.551015688546342 | 
| 10 | 6.122652097146754  | 7.551015688546342 | 
| 11 | 6.104899427317041  | 7.551015688546342 | 
| 12 | 6.0947191208213845 | 7.551015688546342 | 
| 13 | 6.1193007619777635 | 7.551015688546342 | 
| 14 | 6.12889032501849   | 7.551015688546342 | 
| 15 | 6.143243942880327  | 7.551015688546342 | 
| 16 | 6.133391256562615  | 7.551015688546342 | 
| 17 | 6.135757265634031  | 7.551015688546342 | 
| 18 | 6.107409840413275  | 7.551015688546342 | 
| 19 | 6.085533291048266  | 7.551015688546342 | 
| 20 | 6.122126100002131  | 7.551015688546342 | 
| 21 | 6.1497327219166165 | 7.551015688546342 | 
| 22 | 6.115778558311185  | 7.551015688546342 | 
| 23 | 6.124639177996905  | 7.551015688546342 | 
| 24 | 6.128873567446565  | 7.551015688546342 | 
| 25 | 6.0979540910337455 | 7.551015688546342 | 
| 26 | 6.129459550464836  | 7.551015688546342 | 
| 27 | 6.155084122509484  | 7.551015688546342 | 
| 28 | 6.192821588219176  | 7.551015688546342 | 
| 29 | 6.101950393090954  | 7.551015688546342 | 
| 30 | 6.0992035627284125 | 7.551015688546342 | 
| 31 | 6.119977624867375  | 7.551015688546342 | 
| 32 | 6.133814588038197  | 7.551015688546342 | 
| 33 | 6.121812866296519  | 7.551015688546342 | 
| 34 | 6.144438476903181  | 7.551015688546342 | 
| 35 | 6.161879431592395  | 7.551015688546342 | 
| 36 | 6.147625488034674  | 7.551015688546342 | 
| 37 | 6.137115143079325  | 7.551015688546342 | 
| 38 | 6.124069244898761  | 7.551015688546342 | 
| 39 | 6.108855858198939  | 7.551015688546342 | 
| 40 | 6.136075791636646  | 7.551015688546342 | 
| 41 | 6.126241827595781  | 7.551015688546342 | 
| 42 | 6.186575257303394  | 7.551015688546342 | 
| 43 | 6.16007016727998   | 7.551015688546342 | 
| 44 | 6.145218893422915  | 7.551015688546342 | 
| 45 | 6.150360583825057  | 7.551015688546342 | 
| 46 | 6.139894597358867  | 7.551015688546342 | 
| 47 | 6.159741922155199  | 7.551015688546342 | 
| 48 | 6.173780653749059  | 7.551015688546342 | 
| 49 | 6.139255328901698  | 7.551015688546342 | 
| 50 | 6.142670585094293  | 7.551015688546342 | 
| 51 | 6.168015011171161  | 7.551015688546342 | 
| 52 | 6.142285682222023  | 7.551015688546342 | 
| 53 | 6.170531912703114  | 7.551015688546342 | 
| 54 | 6.212699643149327  | 7.551015688546342 | 
| 55 | 6.1819702879467195 | 7.551015688546342 | 
| 56 | 6.136222556941739  | 7.551015688546342 | 
| 57 | 6.1747047660152745 | 7.551015688546342 | 
| 58 | 6.162556446876005  | 7.551015688546342 | 
| 59 | 6.137216800040178  | 7.551015688546342 | 
| 60 | 6.17712086443637   | 7.551015688546342 | 
| 61 | 6.171824846576377  | 7.551015688546342 | 
| 62 | 6.126765154225122  | 7.551015688546342 | 
| 63 | 6.206620093532654  | 7.551015688546342 | 
| 64 | 6.184783755379397  | 7.551015688546342 | 
| 65 | 6.131011986480643  | 7.551015688546342 | 
| 66 | 6.182083925561704  | 7.551015688546342 | 
| 67 | 6.176537559523223  | 7.551015688546342 | 
| 68 | 6.1358227499780185 | 7.551015688546342 | 
| 69 | 6.163269250561004  | 7.551015688546342 | 
| 70 | 6.155117048928087  | 7.551015688546342 | 
| 71 | 6.160019864861104  | 7.551015688546342 | 
| 72 | 6.170276822506386  | 7.551015688546342 | 
| 73 | 6.161401449472436  | 7.551015688546342 | 
| 74 | 6.143276732791595  | 7.551015688546342 | 
| 75 | 6.2073081443751725 | 7.551015688546342 | 
| 76 | 6.202690272537954  | 7.551015688546342 | 
| 77 | 6.148574936810714  | 7.551015688546342 | 
| 78 | 6.16523295831971   | 7.551015688546342 | 
| 79 | 6.188989708149038  | 7.551015688546342 | 
| 80 | 6.134316789184347  | 7.551015688546342 | 
| 81 | 6.193977918644855  | 7.551015688546342 | 
| 82 | 6.167275614449226  | 7.551015688546342 | 
| 83 | 6.1551886461452385 | 7.551015688546342 | 
| 84 | 6.15117147242613   | 7.551015688546342 | 
| 85 | 6.150326754826681  | 7.551015688546342 | 
| 86 | 6.156662867956826  | 7.551015688546342 | 
| 87 | 6.192768057108898  | 7.551015688546342 | 
| 88 | 6.151412442743691  | 7.551015688546342 | 
| 89 | 6.117448713854242  | 7.551015688546342 | 
| 90 | 6.155134573722092  | 7.551015688546342 | 
| 91 | 6.189542417311897  | 7.551015688546342 | 
| 92 | 6.1601364271253995 | 7.551015688546342 | 
| 93 | 6.1826662846471825 | 7.551015688546342 | 
| 94 | 6.1977204627233755 | 7.551015688546342 | 
| 95 | 6.204991568666926  | 7.551015688546342 | 
| 96 | 6.199905131626515  | 7.831901595818998 | 
| 97 | 6.152062932184881  | 7.831901595818998 | 
| 98 | 6.128345989980976  | 7.831901595818998 | 
| 99 | 6.20941059806739   | 7.950397666835871 | 

En iyi sonuç
```
[0.0025113558982609715, 0.9554067390221931, 0.9984582624084958, 0.0009559786965573613]
```

En iyi sonucun genetik kodu
```
{"inputNN":2,"outputNN":1,"hiddenNN":[5,5,4],"W":[[[-0.5206460468681131,0.14697962394732,0.7051736150494592,0.14697962394732,0.14697962394732],[0.3575030980015881,-0.32597186458807803,-0.5946007278727836,-0.10416497326425356,-0.32597186458807803],[-0.05599332381021682,0.5805447252935712,0.31917397347558385,0.8434973716303769,0.31917397347558385]],[[-0.3783256488956259,0.5807485890039374,-0.36445421782678045,-0.3783256488956259,-0.36445421782678045],[0.4523983411685668,0.7807098193949282,-0.09950785159119846,-0.3783256488956259,0.4523983411685668],[-0.3783256488956259,0.5807485890039374,-0.36445421782678045,-0.3783256488956259,-0.3783256488956259],[0.9078283661131228,0.8342563883466951,0.9395598139035855,-0.3783256488956259,-0.3783256488956259],[0.9078283661131228,0.8342563883466951,0.9395598139035855,-0.3783256488956259,0.9395598139035855],[-0.3783256488956259,0.5807485890039374,-0.36445421782678045,-0.3783256488956259,-0.3783256488956259]],[[0.3387170965313673,-0.7202171327934543,0.3387170965313673,0.3387170965313673],[-0.9785173221503713,0.738118881527408,0.738118881527408,-0.9785173221503713],[0.10968387424771375,0.10968387424771375,0.10968387424771375,0.10968387424771375],[-0.7518037453157289,-0.7518037453157289,-0.7518037453157289,-0.7518037453157289],[-0.86301194971493,0.5982339116422084,-0.86301194971493,0.5982339116422084],[-0.86301194971493,0.5982339116422084,0.5982339116422084,0.5982339116422084]],[[0.3387170965313673],[0.738118881527408],[0.10968387424771375],[-0.7518037453157289],[0.5982339116422084]]]}
```